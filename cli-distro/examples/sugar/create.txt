# A simple example that loads a MS CRM 2011 data
# see full command documentation at http://developer.gooddata.com/gooddata-cl/cli-commands.html

# CREATE A NEW PROJECT
CreateProject(name="Sugar CRM");

# Store the project ID to file for possible other scripts
RememberProject(fileName="examples/sugar/pid");

UseDateDimension(name="Created");
GenerateMaql(maqlFile="examples/sugar/created_date.maql");
ExecuteMaql(maqlFile="examples/sugar/created_date.maql");

UseDateDimension(name="Closed");
GenerateMaql(maqlFile="examples/sugar/closed_date.maql");
ExecuteMaql(maqlFile="examples/sugar/closed_date.maql");

# CREATE THE OPPORTUNITY
UseSugarCrm(configFile="examples/sugar/opportunity.xml",host="trial.sugarondemand.com/mgfeum1640", 
         username="jim", password="jim", entity="Opportunities", fields="id, name, account_name, assigned_user_name, date_entered, date_closed, amount, team_name, opportunity_type, lead_source, next_step, sales_stage, probability");

GenerateMaql(maqlFile="examples/sugar/opportunity.maql");
ExecuteMaql(maqlFile="examples/sugar/opportunity.maql");

